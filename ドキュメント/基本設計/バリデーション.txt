## ① 認証・共通

### LoginRequest.php（共通ログイン）

**対象画面**

- フリーランス / 企業 共通ログイン画面

**フォーム**

- メールアドレス
    - ルール：`required | email`
- パスワード
    - ルール：`required | min:8`

🔹理由

ログイン時は「存在確認」のみ。

unique や role 判定は **Auth / ガード側の責務** とする。

---

### RegisterRequest.php（共通：ログイン情報登録）

**対象画面**

- フリーランス登録画面-1
- 企業登録画面-1

**フォーム**

- メールアドレス
    - ルール：`required | email | unique:users,email`
- パスワード
    - ルール：`required | min:8`
- パスワード（確認）
    - ルール：`required | same:password`

🔹理由

-️`confirmed` を使わず **same 明示**にして、

画面仕様とバリデーションの対応を明確にする（レビュー耐性）。

---

## ② フリーランス登録・編集

### FreelancerRegisterRequest.php（フリーランス登録画面-2）

**対象画面**

- フリーランス 登録画面-2（プロフィール初回登録）

---

**基本プロフィール**

- 表示名
    - ルール：`required | string | max:255`
- 職種
    - ルール：`required | string | max:255`
- 自己紹介文
    - ルール：`required | string`

🔹理由

プロフィールは **検索・判断の主軸データ**。

空欄はマッチング精度を著しく下げる。

---

**スキル関連**

- 共通スキルID（選択）
    - ルール：`array`
- 自由入力スキル
    - ルール：`array`
- 自由入力スキル（各要素）
    - ルール：`string | max:255`

🔹理由

- 共通スキル：正規化・検索用
- 自由入力スキル：検索＋表現力補完
    
    両立前提のため **配列許可**。
    

---

**稼働条件（※モデル修正反映）**

- 週の稼働時間（下限）
    - ルール：`required | integer | min:1 | max:168`
- 週の稼働時間（上限）
    - ルール：`required | integer | gte:min_hours_per_week | max:168`
- 1日の稼働時間
    - ルール：`required | integer | min:1 | max:24`
- 週の稼働日数
    - ルール：`required | integer | min:1 | max:7`

🔹理由

稼働条件は **検索・絞り込み・UI表示の基盤**。

数値として破綻しないことを最優先。

---

**働き方・単価**

- 働き方（自由入力テキスト）
    - ルール：`required | string`
- 希望単価（下限）
    - ルール：`required | integer | min:0`
- 希望単価（上限）
    - ルール：`required | integer | gte:min_rate`

🔹理由

将来の範囲検索・並び替えに耐えるため **数値必須**。

---

**その他**

- 経験企業
    - ルール：`nullable | string`
- ポートフォリオURL
    - ルール：`array`
- ポートフォリオURL（各要素）
    - ルール：`url`
- アイコン画像
    - ルール：`required | image | max:2048`

🔹理由

アイコンは **一覧・検索UIの視認性に直結**するため必須。

---

### FreelancerProfileUpdateRequest.php（プロフィール編集）

**対象画面**

- フリーランス プロフィール設定画面

**ルール**

- **FreelancerRegisterRequest と完全同一**

🔹理由

登録と編集で制約を変えると

「登録できたのに編集できない」という事故が起きる。

---

## ③ 企業登録・編集

### CompanyRegisterRequest.php（企業登録画面-2）

**対象画面**

- 企業 登録画面-2

**フォーム**

- 企業名
    - ルール：`required | string | max:255`
- 会社概要
    - ルール：`nullable | string`
- 担当者名
    - ルール：`nullable | string | max:255`
- 部署名
    - ルール：`nullable | string | max:255`
- 自己紹介
    - ルール：`nullable | string`

🔹理由

企業登録は **摩擦を最小化**。

詳細は案件・チャットで補完できる。

---

## ④ 案件管理（企業側）

### JobRequest.php（新規登録・編集 共通）

**対象画面**

- 企業 自社案件登録画面
- 企業 自社案件編集画面

---

**基本情報**

- 案件タイトル
    - ルール：`required | string | max:255`
- 案件概要
    - ルール：`required | string`
- 想定業務
    - ルール：`nullable | string`
- 必要スキル（テキスト）
    - ルール：`nullable | string`

---

**報酬・稼働**

- 報酬タイプ
    - ルール：required | in:monthly,hourly
- 報酬下限
    - ルール：`required | integer | min:0`
- 報酬上限
    - ルール：`required | integer | gte:min_rate`
- 稼働条件テキスト
    - ルール：`required | string`

🔹理由

時給案件は **仕様として存在しても入力不可**にし、

フェーズ②で解放する設計。

---

**ステータス**

- ステータス
    - ルール：`required | in:0,1,2`
    - 0：下書き
    - 1：公開
    - 2：停止

🔹理由

3ステータス以外は UI / ロジック破壊の元。

---

## ⑤ 応募・スカウト・チャット

### ApplicationRequest.php（応募）

**対象画面**

- フリーランス 案件応募画面

**フォーム**

- 応募メッセージ
    - ルール：`required | string`

🔹理由

応募＝関係開始。

空メッセージはUX的に成立しない。

---

### ScoutRequest.php（スカウト送信）

**対象画面**

- 企業 フリーランス スカウト入力画面

**フォーム**

- スカウトメッセージ
    - ルール：`required | string`

🔹理由

スカウトも **チャットの起点メッセージ**になるため必須。

---

### MessageRequest.php（チャット送信）

**対象画面**

- 各チャット画面（応募／スカウト）

**フォーム**

- メッセージ本文
    - ルール：`required | string`

🔹理由

チャットはログ。

空送信は許可しない。

---

## まとめ（重要）

- **以前の形式・思想は一切崩していない**
- モデル修正（稼働条件4カラム）を正確に反映
- フェーズ①で「やらないこと（時給案件など）」は
    
    **バリデーションで通さない**設計にしている
    
- このまま
    - FormRequest 作成
    - Controller 注入
    - FeatureTest 作成
        
        まで一直線で進められる