# ✅ 共通・認証まわり

## 1. User

**（変更なし）**

**役割**

- ログイン情報の本体
- 企業 / フリーランスの判定軸

**主な機能**

- 認証（ログイン・ログアウト）
- role による画面遷移分岐

**ひとことで**

「ログインできる人」

---

# ✅ 企業側モデル

## 2. Company

**（変更なし）**

**役割**

- 企業プロフィールの本体
- 案件・スカウト・チャットの起点

**主な機能**

- 自社案件の管理
- フリーランスへのスカウト送信
- チャット参加者（企業側）

**ひとことで**

「案件を出す会社」

---

## 3. Job

**※ 修正あり：報酬体系が月額 / 時給の両対応に**

**役割**

- 企業が掲載する案件情報
- フリーランスが閲覧・応募する対象

**主な機能**

- 案件内容・必要スキル・稼働条件の保持
- 報酬タイプ（monthly / hourly）による表示分岐
- 公開 / 下書き / 停止の状態管理

**ひとことで**

「フリーランスが判断する仕事情報」

---

## 4. Scout

**（変更なし・設計方針を明確化）**

**役割**

- 企業 → フリーランスへのスカウト履歴

**主な機能**

- スカウト文の保存
- ステータス管理（未対応 / 対応中 / クローズ）
- スカウト起点でのチャット生成トリガー

**ひとことで**

「企業からの声かけ」

---

# ✅ フリーランス側モデル

## 5. Freelancer

**※ 修正あり：稼働条件を4カラムで正規化**

**役割**

- フリーランスのプロフィール本体
- 検索・表示の中心となるモデル

**主な機能**

- 基本プロフィール情報の保持
- 稼働条件の数値管理
    - 週の稼働時間（下限 / 上限）
    - 1日の稼働時間
    - 週の稼働日数
- 希望単価レンジの保持

**ひとことで**

「仕事を探す人の条件セット」

---

## 6. FreelancerPortfolio

**（変更なし）**

**役割**

- フリーランスのポートフォリオURL管理

**主な機能**

- URLの複数登録
- 表示順の制御

**ひとことで**

「実績リンク集」

---

## 7. Skill

**（変更なし）**

**役割**

- サービス全体で共通のスキル辞書

**主な機能**

- スキル名の一元管理
- 検索・集計の軸

**ひとことで**

「正規化されたスキル一覧」

---

## 8. FreelancerSkill

**（変更なし）**

**役割**

- フリーランス × 共通スキルの中間モデル

**主な機能**

- タグ選択の実体
- 重複登録防止

**ひとことで**

「この人はこのスキルを持つ」

---

## 9. FreelancerCustomSkill

**※ 修正あり：検索対象として利用**

**役割**

- フリーランスが自由入力したスキル

**主な機能**

- プロフィール表示用の強み表現
- フリーワード検索対象（indexあり）

**ひとことで**

「その人ならではのスキル表現」

---

# ✅ 応募・コミュニケーション系

## 10. Application

**（変更なし）**

**役割**

- フリーランスの案件応募記録

**主な機能**

- 応募メッセージの保持
- 応募ステータス管理
- 応募を起点としたチャット生成トリガー

**ひとことで**

「応募したという事実」

---

## 11. Thread

**（変更なし・重要モデル）**

**役割**

- チャットの部屋（会話単位）

**主な機能**

- 企業 × フリーランス × 案件 の一意管理
- 未読フラグ管理（スレッド単位）
- 一覧表示用の最新メッセージ情報保持

**ひとことで**

「会話の箱」

---

## 12. Message

**（変更なし）**

**役割**

- チャット内の1メッセージ

**主な機能**

- 本文・送信者の保持
- 自分のメッセージ削除（論理削除）
- スレッドの未読判定更新に寄与

**ひとことで**

「実際の会話」

---

# 🔢 最終まとめ（モデル一覧）

```
User
Company
Freelancer
Job
Application
Scout
Thread
Message
Skill
FreelancerSkill
FreelancerCustomSkill
FreelancerPortfolio

```